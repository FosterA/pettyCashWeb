<!doctype html>
<html ng-app="PettyCash">
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angularjs-datepicker/2.1.6/angular-datepicker.min.js"></script>
        <script src="https://cdn.apple-cloudkit.com/ck/2/cloudkit.js"></script>
        <script src="ckconfig.js"></script>
        <script src="loadCtrls.js"></script>
        <script src="goals.js"></script>
        <script src="transactions.js"></script>
        <script src="authentication.js"></script>
        <script src="query.js"></script>
        <link rel="stylesheet" href="pettycash.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/angularjs-datepicker/2.1.6/angular-datepicker.min.css">
    </head>
    <body>

      <div>
        <h2 id="displayed-username"></h2>
        <div id="apple-sign-in-button">
           <span id="username"></span>
         </div>
         <div id="apple-sign-out-button"></div>
      </div>
      <hr></hr>

        <h2>Goals</h2>
        <div id="goals" ng-controller="GoalsController as goalList">
            [ <span>{{goalList.remaining()}} of {{goalList.goals.length}} remaining</span> ]
            <input type="button" id="load" ng-click="goalList.loadGoals()" value="Load Goals"></input>
            <ul class="unstyled">
                <li ng-repeat="goal in goalList.goals track by $index">
                    <label>
                        <input id="delete" type="button" ng-click="goalList.delete(goal)" value="X">
                        <span class="done-{{goal.done}}">{{goal.description}}****{{goal.amount | currency}}****{{goal.endDate | date:'longDate'}}**** {{goal.priority | priority}}</span>
                    </label>
                </li>
            </ul>
            <form ng-submit="goalList.addGoal()">
                <input type="text" ng-model="goalList.newDes" size="30" placeholder="add new goal here"><br>
                <input type="number" ng-model="goalList.newVal" size="30" placeholder="goal amount" min="0">
                <datepicker date-format="longDate" ng-style="{width: 146 + 'px'}">
                    <input ng-model="goalList.newEnd" type="text"/><br>
                </datepicker><br>
                <select ng-model="goalList.newPrty" name="priority">
                    <option value="">-- choose priority --</option>
                    <option value="1">low</option>
                    <option value="2">medium</option>
                    <option value="3">high</option>
                </select><br>
                <input class="btn-primary" type="submit" value="add">
            </form>
        </div>

        <h2>Transactions</h2>
        <div id="transactions" ng-controller="TransactionsController as transactions">
            [ <span>{{transactions.remaining()}} of {{transactions.trans.length}} remaining</span> ]
            <input type="button" ng-click="transactions.archive()" value="Archive"></input>
            <ul class="unstyled">
                <li ng-repeat="tran in transactions.trans">
                    <label class="checkbox">
                        <input type="checkbox" ng-model="tran.done">
                        <span class="done-{{tran.done}}">{{tran.description}} {{tran.amount}} {{tran.date}}</span>
                    </label>
                </li>
            </ul>
            <form ng-submit="transactions.addTran()">
                <input type="text" ng-model="transactions.tranDes" size="30" placeholder="add new transaction here"><br>
                <input type="number" ng-model="transactions.tranVal" size="30" placeholder="transaction amount"><br>
                <input type="text" ng-model="transactions.tranDate" size="30" placeholder="date"><br>
                <input class="btn-primary" type="submit" value="add">
            </form>
        </div>

    </body>
</html>
