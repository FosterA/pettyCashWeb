<!doctype html>
<html ng-app="PettyCash">
    <head>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/phaser/2.6.2/phaser.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angularjs-datepicker/2.1.6/angular-datepicker.min.js"></script>
        <script src="https://cdn.apple-cloudkit.com/ck/2/cloudkit.js"></script>
        <script src="cloudkit/ckconfig.js"></script>
        <script src="loadCtrls.js"></script>
        <script src="controllers/goals.js"></script>
        <script src="pet.js"></script>
        <script src="controllers/transactions.js"></script>
        <script src="cloudkit/authentication.js"></script>
        <script src="cloudkit/query.js"></script>
        <link rel="stylesheet" href="content/css/pettycash.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/angularjs-datepicker/2.1.6/angular-datepicker.min.css">
    </head>
    <body>

        <div>
            <h2 id="displayed-username"></h2>
            <div id="apple-sign-in-button">
                <span id="username"></span>
            </div>
            <div id="apple-sign-out-button"></div>
        </div>
        <hr></hr>

        <h2>Goals</h2>
        <div id="goals" ng-controller="GoalsController as goalList">
            [ <span>{{goalList.remaining()}} of {{goalList.goals.length}} remaining</span> ]
            <input type="button" id="loadGoals" ng-click="goalList.loadGoals()" value="Load Goals"></input>
            <ul class="unstyled">
                <li ng-repeat="goal in goalList.goals track by $index">
                    <span>
                        <input id="delete" type="button" ng-click="goalList.delete(goal)" value="X">
                        <span>{{goal.name}}****{{goal.description}}****{{goal.amount | currency}}****{{goal.endDate | date:'longDate'}}**** {{goal.priority | priority}}</span>
                    </span>
                </li>
            </ul>
            <form id="goalForm" ng-submit="goalList.addGoal()">
                <input type="text" ng-model="goalList.newDes" size="30" placeholder="add new goal here"><br>
                <input type="number" ng-model="goalList.newVal" size="30" placeholder="goal amount" min="0">
                <datepicker date-format="longDate" ng-style="{width: 146 + 'px'}">
                    <input ng-model="goalList.newEnd" type="text"/>
                </datepicker><br>
                <select ng-model="goalList.newPrty" name="priority">
                    <option value="">-- choose priority --</option>
                    <option value="1">low</option>
                    <option value="2">medium</option>
                    <option value="3">high</option>
                </select><br>
                <input class="btn-primary" type="submit" value="add">
            </form>
        </div>
        
        <div id="petGame">
            <h2>Pet Game</h2>
        </div>
        <div id="transactions" ng-controller="TransactionsController as transList">
            <h2>Transactions</h2>
            <input type="button" id="loadTrans" ng-click="transList.loadTransactions()" value="Load Transactions"></input>
            <input type="button" id="addTran" ng-click="transList.addTransaction()" value="Add Transaction"></input>
            <ul class="unstyled">
                <li ng-repeat="transaction in transList.transactions track by $index">
                    <span>
                        <span>{{transaction.name}}****{{transaction.description}}****{{transaction.amount | currency}}****{{transaction.endDate | date:'longDate'}}**** {{transaction.priority | priority}}</span>
                    </span>
                </li>
            </ul>
        </div>
        
    </body>
</html>
